<h4 class="mt-3">Control de horas</h4>


<div class="selectores ">

    <select (change)="cambioMes($event)" class="form-select form-select-sm" aria-label=".form-select-lg example">
        <option value="">Selecciona un mes</option>
        <option value="1">Enero</option>
        <option value="2">Febrero</option>
        <option value="3">Marzo</option>
        <option value="4">Abril</option>
        <option value="5">Mayo</option>
        <option value="6">Junio</option>
        <option value="7">Julio</option>
        <option value="8">Agosto</option>
        <option value="9">Septiembre</option>
        <option value="10">Octubre</option>
        <option value="11">Noviembre</option>
        <option value="12">Diciembre</option>

    </select>


    <select (change)="cambioProyecto($event)" class="form-select form-select-sm" aria-label=".form-select-lg example">
        <option value="">Selecciona un proyecto</option>
        <option value="0">Todos los proyectos</option>
        <option [value]=proyecto.id *ngFor="let proyecto of proyectos ">
            {{proyecto.nombre}}</option>
        <option value="extra">Horas extra</option>


    </select>
</div>


<!-- empieza control horas -->
<div class="controlHoras row">
    <div class="  col-md-6 col-sm-12 ">
        <div class="barras">
            <div style="display: block; height:100%; width: 100%;">
                <canvas baseChart [data]="barChartData" [options]="barChartOptions" [type]="barChartType">
                </canvas>
            </div>
            <div>
            </div>
        </div>
    </div>
    <div class="notificaciones  col-md-6 col-sm-12  ">
        <div class="informacion ">
            <div class="card text-bg-light mb-3">
                <div class="card-header"><strong>Horas semanales, selecciona una fecha:</strong></div>
                <div class="card-body row">
                    <div class="col-4">
                        <label for="fecha-inicio">Fecha de inicio:</label>
                        <input type="date" id="fecha-inicio" [(ngModel)]="fecha_inicio">
                    </div>
                    <div class="col-4">
                        <label for="fecha-fin">Fecha de fin:</label>
                        <input type="date" id="fecha-fin" [(ngModel)]="fecha_fin">
                    </div>
                    <button class="btn col-4" (click)="cargarFechas()">Cargar datos</button>
                </div>
                <div class="container">
                    <div *ngIf="horasTotalesSemana !== undefined" class="cool-result">
                        <p>Horas totales de la semana: {{ horasTotalesSemana }}</p>
                        <p *ngIf="horasTotalesSemana === horasPorContrato" class="cool-success">Has cumplido con las
                            horas semanales pactadas por contrato.</p>
                        <p *ngIf="horasTotalesSemana > horasPorContrato" class="cool-warning">Has excedido las horas
                            semanales pactadas por contrato.</p>
                        <p *ngIf="horasTotalesSemana < horasPorContrato" class="cool-error">Has trabajado menos horas de
                            las pactadas por contrato.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="card text-bg-light mb-3 ">
            <div class="card-header"><strong>Horas extra:</strong> </div>
            <div class="card-body">
                <p class="card-text">El n√∫mero de horas extra este mes, es de:
                    <strong style="color:red">{{totalHorasExtra}}</strong>
                </p>
            </div>
        </div>
    </div>

</div>